# DOM-дерево

Основой `HTML`-документа являются теги.

В соответствии с объектной моделью документа , каждый `HTML`-тег является объектом. Вложенные теги являются «детьми» родительского элемента. Текст, который находится внутри тега, также является объектом.

Все эти объекты доступны при помощи `JavaScript`, мы можем использовать их для изменения страницы.

Например, `document.body` – объект для тега `<body>`.

Если запустить этот код, то `<body>` станет красным на 3 секунды:

```JavaScript
document.body.style.background = 'red'; // сделать фон красным

setTimeout(() => document.body.style.background = '', 3000); // вернуть назад
```

## Пример DOM

```JavaScript
<!DOCTYPE HTML>
<html>
<head>
  <title>О лосях</title>
</head>
<body>
  Правда о лосях.
</body>
</html>
```

Каждый узел этого дерева – это объект.

Теги являются узлами-элементами (или просто элементами). Они образуют структуру дерева: `<html>` – это корневой узел, `<head> и <body>` его дочерние узлы и т.д.

Текст внутри элементов образует текстовые узлы, обозначенные как `#text`. Текстовый узел содержит в себе только строку текста. У него не может быть потомков, т.е. он находится всегда на самом нижнем уровне.

Например, в теге `<title>` есть текстовый узел "О лосях".

Пробелы и переводы строки – это полноправные символы, как буквы и цифры.

Существует всего два исключения из этого правила:

1. По историческим причинам пробелы и перевод строки перед тегом `<head>` игнорируются

2. Если мы записываем что-либо после закрывающего тега `</body>`, браузер автоматически перемещает эту запись в конец `body`, поскольку спецификация `HTML` требует, чтобы всё содержимое было внутри `<body>`. Поэтому после закрывающего тега `</body>` не может быть никаких пробелов.

В остальных случаях всё просто – если в документе есть пробелы (или любые другие символы), они становятся текстовыми узлами дерева DOM, и если мы их удалим, то в DOM их тоже не будет.

## Автоисправление

Если браузер сталкивается с некорректно написанным `HTML`-кодом, он автоматически корректирует его при построении `DOM`.

Например, в начале документа всегда должен быть тег `<html>`. Даже если его нет в документе – он будет в дереве `DOM`, браузер его создаст. То же самое касается и тега `<body>`.

Например, если `HTML`-файл состоит из единственного слова "Привет", браузер обернёт его в теги `<html> и <body>`, добавит необходимый тег `<head>`.

### Таблицы всегда содержат `<tbody>`

## Другие типы узлов

Есть и некоторые другие типы узлов, кроме элементов и текстовых узлов.

Например, узел-комментарий:

```JavaScript
<!DOCTYPE HTML>
<html>
<body>
  Правда о лосях.
  <ol>
    <li>Лось -- животное хитрое</li>
    <!-- комментарий -->
    <li>...и коварное!</li>
  </ol>
</body>
</html>
```

Здесь мы видим узел нового типа – комментарий, обозначенный как `#comment`, между двумя текстовыми узлами.

Казалось бы – зачем комментарий в `DOM`? Он никак не влияет на визуальное отображение. Но есть важное правило: если что-то есть в `HTML`, то оно должно быть в `DOM`-дереве.

### Все, что есть в `HTML`, даже комментарии, является частью `DOM`.

## Итого

`HTML/XML` документы представлены в браузере в виде `DOM`-дерева.

- Теги становятся узлами-элементами и формируют структуру документа.

- Текст становится текстовыми узлами.

- … и т.д. Всё, что записано в HTML, есть и в `DOM`-дереве, даже комментарии.
